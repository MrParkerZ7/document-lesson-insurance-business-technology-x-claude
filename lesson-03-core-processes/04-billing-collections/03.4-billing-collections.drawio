<mxfile host="app.diagrams.net" modified="2024-01-15T10:00:00.000Z" agent="Claude" version="22.1.0">
  <diagram name="Billing and Collections Process" id="billing-collections">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1100" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Billing and Collections Process Flow" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="450" height="40" as="geometry" />
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Premium Billing Lifecycle with Multiple Payment Methods" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="600" y="55" width="450" height="25" as="geometry" />
        </mxCell>

        <!-- ==================== PREMIUM CALCULATION ==================== -->
        <mxCell id="premium-calc" value="PREMIUM&#xa;CALCULATION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="premium-calc-detail" value="• Base premium&#xa;• Risk loading&#xa;• Discounts&#xa;• Taxes &amp; fees" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- Input: Policy Service -->
        <mxCell id="policy-svc" value="Policy&#xa;Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="policy-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=2;endArrow=block;endFill=1;curved=1;flowAnimation=1;" edge="1" parent="1" source="policy-svc" target="premium-calc">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Input: Product Config -->
        <mxCell id="product-config" value="Product&#xa;Config" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="100" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="product-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=2;endArrow=block;endFill=1;curved=1;flowAnimation=1;" edge="1" parent="1" source="product-config" target="premium-calc">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Arrow to Billing Schedule -->
        <mxCell id="a1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=3;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="premium-calc" target="billing-schedule">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== BILLING SCHEDULE ==================== -->
        <mxCell id="billing-schedule" value="BILLING&#xa;SCHEDULE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="billing-schedule-detail" value="• Payment frequency&#xa;• Due dates&#xa;• Installment amounts&#xa;• Payment plan" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="320" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- Arrow to Invoice Generation -->
        <mxCell id="a2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=3;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="billing-schedule" target="invoice-gen">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== INVOICE GENERATION ==================== -->
        <mxCell id="invoice-gen" value="INVOICE&#xa;GENERATION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="invoice-gen-detail" value="• Invoice number&#xa;• Line items&#xa;• Due date&#xa;• Payment options" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="540" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- Document Storage -->
        <mxCell id="doc-storage" value="Document&#xa;Storage" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="90" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="doc-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=1;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="invoice-gen" target="doc-storage">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Notification Service -->
        <mxCell id="notif-svc" value="Notification&#xa;Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="90" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="notif-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=1;endArrow=block;endFill=1;dashed=1;flowAnimation=1;" edge="1" parent="1" source="invoice-gen" target="notif-svc">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Arrow to Payment Collection -->
        <mxCell id="a3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=3;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="invoice-gen" target="payment-collection">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== PAYMENT COLLECTION ==================== -->
        <mxCell id="payment-collection" value="PAYMENT&#xa;COLLECTION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="760" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="payment-collection-detail" value="• Process payment&#xa;• Validate amount&#xa;• Record transaction&#xa;• Issue receipt" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="760" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- ==================== PAYMENT METHODS ==================== -->
        <mxCell id="payment-methods-label" value="PAYMENT METHODS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="760" y="290" width="140" height="20" as="geometry" />
        </mxCell>

        <!-- Direct Debit -->
        <mxCell id="direct-debit" value="Direct Debit&#xa;(SEPA/ACH)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=0;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="320" width="90" height="45" as="geometry" />
        </mxCell>
        <mxCell id="dd-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=2;endArrow=block;endFill=1;curved=1;" edge="1" parent="1" source="direct-debit" target="payment-collection">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Card Payment -->
        <mxCell id="card-payment" value="Card Payment&#xa;(Credit/Debit)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=0;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="785" y="320" width="90" height="45" as="geometry" />
        </mxCell>
        <mxCell id="card-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=2;endArrow=block;endFill=1;curved=1;" edge="1" parent="1" source="card-payment" target="payment-collection">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Bank Transfer -->
        <mxCell id="bank-transfer" value="Bank Transfer&#xa;(Wire/SWIFT)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=0;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="320" width="90" height="45" as="geometry" />
        </mxCell>
        <mxCell id="bank-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=2;endArrow=block;endFill=1;curved=1;" edge="1" parent="1" source="bank-transfer" target="payment-collection">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Payment Gateway -->
        <mxCell id="payment-gateway" value="Payment&#xa;Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="785" y="385" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pg-dd-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9673a6;strokeWidth=1;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="payment-gateway" target="direct-debit">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pg-card-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9673a6;strokeWidth=1;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="payment-gateway" target="card-payment">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pg-bank-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9673a6;strokeWidth=1;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="payment-gateway" target="bank-transfer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Arrow to Payment Decision -->
        <mxCell id="a4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6c8ebf;strokeWidth=3;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="payment-collection" target="payment-decision">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== PAYMENT DECISION ==================== -->
        <mxCell id="payment-decision" value="PAYMENT&#xa;STATUS" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="140" width="110" height="80" as="geometry" />
        </mxCell>

        <!-- Success Path -->
        <mxCell id="a5-success" value="Success" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=2;endArrow=block;endFill=1;fontStyle=2;fontSize=10;curved=1;" edge="1" parent="1" source="payment-decision" target="reconciliation">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Failed Path -->
        <mxCell id="a5-failed" value="Failed" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;endArrow=block;endFill=1;fontStyle=2;fontSize=10;curved=1;" edge="1" parent="1" source="payment-decision" target="dunning">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1035" y="280" />
              <mxPoint x="1035" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ==================== RECONCILIATION ==================== -->
        <mxCell id="reconciliation" value="RECONCILIATION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1160" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="reconciliation-detail" value="• Match payments&#xa;• Update ledger&#xa;• Apply to invoice&#xa;• Generate reports" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1160" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- GL Integration -->
        <mxCell id="gl-integration" value="General&#xa;Ledger" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="90" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="gl-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=1;endArrow=block;endFill=1;dashed=1;flowAnimation=1;" edge="1" parent="1" source="reconciliation" target="gl-integration">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Bank Statement -->
        <mxCell id="bank-statement" value="Bank&#xa;Statement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1260" y="90" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bank-stmt-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=1;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="bank-statement" target="reconciliation">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Arrow to Policy Update -->
        <mxCell id="a6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=3;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="reconciliation" target="policy-update">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== POLICY UPDATE ==================== -->
        <mxCell id="policy-update" value="POLICY STATUS&#xa;UPDATE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=13;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1380" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="policy-update-detail" value="• Update coverage&#xa;• Extend validity&#xa;• Confirm active status&#xa;• Send confirmation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1380" y="215" width="140" height="55" as="geometry" />
        </mxCell>

        <!-- ==================== DUNNING PROCESS ==================== -->
        <mxCell id="dunning-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#b85450;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="440" width="480" height="200" as="geometry" />
        </mxCell>
        <mxCell id="dunning-label" value="DUNNING PROCESS (Collections)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="445" width="220" height="20" as="geometry" />
        </mxCell>

        <!-- Dunning Start -->
        <mxCell id="dunning" value="DUNNING&#xa;INITIATED" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=12;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="480" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Reminder 1 -->
        <mxCell id="reminder1" value="1st Reminder&#xa;(Email/SMS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1210" y="470" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r1-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d6b656;strokeWidth=2;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="dunning" target="reminder1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Reminder 2 -->
        <mxCell id="reminder2" value="2nd Reminder&#xa;(Letter)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1320" y="470" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r2-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d6b656;strokeWidth=2;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="reminder1" target="reminder2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Final Notice -->
        <mxCell id="final-notice" value="Final Notice&#xa;(Registered)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=0;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1430" y="470" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fn-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;endArrow=block;endFill=1;flowAnimation=1;" edge="1" parent="1" source="reminder2" target="final-notice">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Dunning Decision -->
        <mxCell id="dunning-decision" value="Payment&#xa;Received?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1315" y="540" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dd-arrow-check" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d6b656;strokeWidth=2;endArrow=block;endFill=1;" edge="1" parent="1" source="reminder2" target="dunning-decision">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Payment received - back to reconciliation -->
        <mxCell id="dd-yes" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=2;endArrow=block;endFill=1;fontStyle=2;fontSize=10;curved=1;" edge="1" parent="1" source="dunning-decision" target="reconciliation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1230" y="575" />
              <mxPoint x="1230" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Policy Suspension -->
        <mxCell id="policy-suspend" value="POLICY&#xa;SUSPENSION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1430" y="545" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="suspend-arrow" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;endArrow=block;endFill=1;fontStyle=2;fontSize=10;" edge="1" parent="1" source="dunning-decision" target="policy-suspend">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Policy Cancellation -->
        <mxCell id="policy-cancel" value="POLICY&#xa;CANCELLATION" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=11;shadow=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1430" y="600" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="cancel-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="policy-suspend" target="policy-cancel">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Days indicators -->
        <mxCell id="days1" value="Day 0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1115" y="530" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="days2" value="Day 7" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1230" y="510" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="days3" value="Day 14" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1340" y="510" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="days4" value="Day 30" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1450" y="510" width="50" height="15" as="geometry" />
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="700" width="620" height="100" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="110" y="705" width="80" height="25" as="geometry" />
        </mxCell>

        <!-- Legend items row 1 -->
        <mxCell id="l1" value="Services/APIs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="115" y="735" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="l2" value="Data/Storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="205" y="735" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="l3" value="External/Payment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="295" y="735" width="95" height="25" as="geometry" />
        </mxCell>
        <mxCell id="l4" value="Security" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="735" width="70" height="25" as="geometry" />
        </mxCell>
        <mxCell id="l5" value="Error/Warning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="480" y="735" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="l6" value="Decision" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="570" y="730" width="60" height="35" as="geometry" />
        </mxCell>

        <!-- Legend items row 2 -->
        <mxCell id="l7" value="→ Flow with animation indicates main process direction" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="115" y="770" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="l8" value="⇢ Dashed lines indicate data sync or optional paths" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="770" width="280" height="20" as="geometry" />
        </mxCell>

        <!-- Timeline -->
        <mxCell id="timeline" value="" style="shape=flexArrow;endArrow=classic;html=1;strokeColor=#666666;fillColor=#f5f5f5;strokeWidth=1;endWidth=12;endSize=4;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="350" as="sourcePoint" />
            <mxPoint x="1520" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="timeline-label" value="BILLING LIFECYCLE TIMELINE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="700" y="360" width="220" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
