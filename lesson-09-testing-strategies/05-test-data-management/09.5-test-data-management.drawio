<mxfile host="app.diagrams.net" modified="2024-01-15T10:00:00.000Z" agent="Claude" version="22.1.0">
  <diagram name="Test Data Management" id="test-data-management">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="950" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Test Data Management" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="550" y="20" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- Test Data Generation Section -->
        <mxCell id="gen-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#82b366;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="380" height="280" as="geometry" />
        </mxCell>
        <mxCell id="gen-title" value="TEST DATA GENERATION" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="50" y="85" width="220" height="20" as="geometry" />
        </mxCell>

        <!-- Faker/Generator -->
        <mxCell id="faker-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="120" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="faker-label" value="Data Generators" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=11;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="60" y="125" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="faker-content" value="Faker.js / JavaFaker&#xa;Bogus (.NET)&#xa;Factory Boy (Python)&#xa;Mimesis" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="75" y="150" width="130" height="60" as="geometry" />
        </mxCell>

        <!-- Example Generation -->
        <mxCell id="example-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="120" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="example-label" value="Example Output" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="240" y="125" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="example-content" value="name: John Smith&#xa;email: jsmith@test.com&#xa;phone: 555-0123&#xa;policyNo: POL-20240001" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="250" y="150" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- Generation Arrow -->
        <mxCell id="gen-arr" value="" style="endArrow=classic;html=1;strokeColor=#82b366;strokeWidth=2;curved=1;flowAnimation=1;" edge="1" parent="1" source="faker-box" target="example-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Generation Types -->
        <mxCell id="gen-types" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82b366;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="235" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="gen-types-title" value="Generation Types" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="70" y="240" width="120" height="15" as="geometry" />
        </mxCell>
        <mxCell id="gen-random" value="Random" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="265" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gen-seed" value="Seeded" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="265" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gen-pattern" value="Pattern-based" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="265" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gen-note" value="Use seeded generation for reproducible tests" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="80" y="305" width="250" height="20" as="geometry" />
        </mxCell>

        <!-- Data Masking Section -->
        <mxCell id="mask-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="80" width="380" height="280" as="geometry" />
        </mxCell>
        <mxCell id="mask-title" value="DATA MASKING (PII Protection)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#c2185b;" vertex="1" parent="1">
          <mxGeometry x="450" y="85" width="260" height="20" as="geometry" />
        </mxCell>

        <!-- Production Data -->
        <mxCell id="prod-data" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="120" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="prod-label" value="Production Data" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;fontStyle=1;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="460" y="125" width="140" height="15" as="geometry" />
        </mxCell>
        <mxCell id="prod-content" value="name: John Smith&#xa;email: john@email.com&#xa;ssn: 123-45-6789&#xa;phone: 555-123-4567" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="470" y="145" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Masking Engine -->
        <mxCell id="mask-engine" value="Masking&#xa;Engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="545" y="230" width="80" height="45" as="geometry" />
        </mxCell>

        <!-- Masking Arrow -->
        <mxCell id="mask-arr" value="" style="endArrow=classic;html=1;strokeColor=#9673a6;strokeWidth=2;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="223" as="sourcePoint" />
            <mxPoint x="568" y="228" as="targetPoint" />
            <Array as="points">
              <mxPoint x="550" y="223" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mask-arr2" value="" style="endArrow=classic;html=1;strokeColor=#9673a6;strokeWidth=2;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="603" y="227" as="sourcePoint" />
            <mxPoint x="660" y="170" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="227" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Masked Data -->
        <mxCell id="masked-data" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="120" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="masked-label" value="Masked Test Data" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="660" y="125" width="140" height="15" as="geometry" />
        </mxCell>
        <mxCell id="masked-content" value="name: Alice Brown&#xa;email: test1@test.com&#xa;ssn: XXX-XX-1234&#xa;phone: 555-XXX-XXXX" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="670" y="145" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Masking Techniques -->
        <mxCell id="mask-tech" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#c2185b;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="290" width="340" height="55" as="geometry" />
        </mxCell>
        <mxCell id="mask-tech-title" value="Techniques:" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#c2185b;" vertex="1" parent="1">
          <mxGeometry x="470" y="295" width="80" height="15" as="geometry" />
        </mxCell>
        <mxCell id="mask-substitution" value="Substitution" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="315" width="65" height="22" as="geometry" />
        </mxCell>
        <mxCell id="mask-shuffle" value="Shuffling" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="545" y="315" width="55" height="22" as="geometry" />
        </mxCell>
        <mxCell id="mask-encrypt" value="Encryption" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="315" width="60" height="22" as="geometry" />
        </mxCell>
        <mxCell id="mask-null" value="Nulling" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="315" width="50" height="22" as="geometry" />
        </mxCell>
        <mxCell id="mask-redact" value="Redaction" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="315" width="55" height="22" as="geometry" />
        </mxCell>

        <!-- Fixtures Section -->
        <mxCell id="fixture-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="80" width="380" height="280" as="geometry" />
        </mxCell>
        <mxCell id="fixture-title" value="FIXTURES" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#1565c0;" vertex="1" parent="1">
          <mxGeometry x="850" y="85" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Fixture Files -->
        <mxCell id="fixture-files" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1565c0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="115" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fixture-files-title" value="Fixture Files" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#1565c0;" vertex="1" parent="1">
          <mxGeometry x="870" y="120" width="100" height="15" as="geometry" />
        </mxCell>
        <mxCell id="fixture-yaml" value="policies.yaml" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="875" y="145" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fixture-json" value="customers.json" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="875" y="175" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fixture-sql" value="claims.sql" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="875" y="205" width="80" height="25" as="geometry" />
        </mxCell>

        <!-- Fixture Usage -->
        <mxCell id="fixture-usage" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1565c0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="115" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fixture-usage-title" value="Usage Pattern" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#1565c0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="120" width="100" height="15" as="geometry" />
        </mxCell>
        <mxCell id="fixture-usage-code" value="@fixture('policies')&#xa;def test_policy():&#xa;  policy = fixture&#xa;  assert policy.status&#xa;  == 'active'" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1050" y="140" width="140" height="85" as="geometry" />
        </mxCell>

        <!-- Fixture Arrow -->
        <mxCell id="fixture-arr" value="" style="endArrow=classic;html=1;strokeColor=#1565c0;strokeWidth=2;curved=1;flowAnimation=1;" edge="1" parent="1" source="fixture-files" target="fixture-usage">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fixture Benefits -->
        <mxCell id="fixture-benefits" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1565c0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="250" width="340" height="95" as="geometry" />
        </mxCell>
        <mxCell id="fixture-benefits-title" value="Benefits" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#1565c0;" vertex="1" parent="1">
          <mxGeometry x="870" y="255" width="80" height="15" as="geometry" />
        </mxCell>
        <mxCell id="fixture-benefits-list" value="• Consistent test data across runs&#xa;• Version controlled with code&#xa;• Easy to review and maintain&#xa;• Supports multiple environments" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="870" y="275" width="320" height="60" as="geometry" />
        </mxCell>

        <!-- Factories Section -->
        <mxCell id="factory-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#d79b00;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="390" width="380" height="280" as="geometry" />
        </mxCell>
        <mxCell id="factory-title" value="FACTORIES" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="50" y="395" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Factory Definition -->
        <mxCell id="factory-def" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#d79b00;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="425" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="factory-def-title" value="Factory Definition" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="70" y="430" width="120" height="15" as="geometry" />
        </mxCell>
        <mxCell id="factory-def-code" value="PolicyFactory {&#xa;  type: 'motor'&#xa;  status: 'active'&#xa;  premium: faker.price&#xa;  customer: CustomerFactory&#xa;  startDate: today()&#xa;}" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="70" y="450" width="150" height="100" as="geometry" />
        </mxCell>

        <!-- Factory Usage -->
        <mxCell id="factory-usage" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="425" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="factory-usage-title" value="Usage Examples" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="260" y="430" width="120" height="15" as="geometry" />
        </mxCell>
        <mxCell id="factory-usage-code" value="// Basic&#xa;PolicyFactory.create()&#xa;&#xa;// With overrides&#xa;PolicyFactory.create({&#xa;  status: 'cancelled'&#xa;})&#xa;&#xa;// Multiple&#xa;PolicyFactory.createMany(5)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontFamily=Courier New;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="260" y="450" width="130" height="100" as="geometry" />
        </mxCell>

        <!-- Factory Arrow -->
        <mxCell id="factory-arr" value="" style="endArrow=classic;html=1;strokeColor=#d79b00;strokeWidth=2;curved=1;flowAnimation=1;" edge="1" parent="1" source="factory-def" target="factory-usage">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Factory Traits -->
        <mxCell id="factory-traits" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#d79b00;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="570" width="340" height="85" as="geometry" />
        </mxCell>
        <mxCell id="factory-traits-title" value="Factory Traits / States" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;fontStyle=1;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="70" y="575" width="130" height="15" as="geometry" />
        </mxCell>
        <mxCell id="factory-trait-active" value="active" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="600" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="factory-trait-expired" value="expired" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="145" y="600" width="55" height="25" as="geometry" />
        </mxCell>
        <mxCell id="factory-trait-premium" value="high_value" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="600" width="60" height="25" as="geometry" />
        </mxCell>
        <mxCell id="factory-trait-claim" value="with_claim" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="600" width="60" height="25" as="geometry" />
        </mxCell>
        <mxCell id="factory-trait-example" value="PolicyFactory.create(:active, :with_claim)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontFamily=Courier New;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="80" y="630" width="250" height="15" as="geometry" />
        </mxCell>

        <!-- Data Refresh Strategies Section -->
        <mxCell id="refresh-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="390" width="780" height="280" as="geometry" />
        </mxCell>
        <mxCell id="refresh-title" value="DATA REFRESH STRATEGIES" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="450" y="395" width="240" height="20" as="geometry" />
        </mxCell>

        <!-- Strategy 1: Truncate and Reload -->
        <mxCell id="strat1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="430" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="strat1-title" value="Truncate &amp; Reload" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=11;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="460" y="435" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat1-flow" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="475" y="460" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="strat1-step1" value="TRUNCATE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="485" y="470" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat1-arr1" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="480" as="sourcePoint" />
            <mxPoint x="565" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat1-step2" value="LOAD" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="565" y="470" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat1-pros" value="✓ Clean state&#xa;✓ Predictable" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="485" y="495" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="strat1-cons" value="✗ Slower&#xa;✗ Breaks refs" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="485" y="525" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- Strategy 2: Transaction Rollback -->
        <mxCell id="strat2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="430" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="strat2-title" value="Transaction Rollback" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=11;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="650" y="435" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat2-flow" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="665" y="460" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="strat2-step1" value="BEGIN" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="675" y="470" width="45" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat2-arr1" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="725" y="480" as="sourcePoint" />
            <mxPoint x="735" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat2-step2" value="TEST" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="735" y="470" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat2-arr2" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="480" as="sourcePoint" />
            <mxPoint x="780" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat2-step3" value="ROLL" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="750" y="470" width="45" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat2-pros" value="✓ Fast&#xa;✓ Isolated" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="675" y="495" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="strat2-cons" value="✗ Single conn&#xa;✗ No commit test" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="675" y="525" width="90" height="30" as="geometry" />
        </mxCell>

        <!-- Strategy 3: Snapshot Restore -->
        <mxCell id="strat3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="430" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="strat3-title" value="Snapshot Restore" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=11;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="840" y="435" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat3-flow" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="855" y="460" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="strat3-step1" value="SNAPSHOT" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="865" y="470" width="55" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat3-arr1" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="925" y="480" as="sourcePoint" />
            <mxPoint x="935" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat3-step2" value="RESTORE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="935" y="470" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat3-pros" value="✓ Full state&#xa;✓ Fast restore" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="865" y="495" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="strat3-cons" value="✗ Storage&#xa;✗ Setup time" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="865" y="525" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- Strategy 4: Seed on Demand -->
        <mxCell id="strat4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1030" y="430" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="strat4-title" value="Seed on Demand" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=11;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1030" y="435" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat4-flow" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1045" y="460" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="strat4-step1" value="CREATE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="1055" y="470" width="45" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat4-arr1" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1105" y="480" as="sourcePoint" />
            <mxPoint x="1115" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat4-step2" value="USE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="1115" y="470" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat4-arr2" value="" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=1;flowAnimation=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1150" y="480" as="sourcePoint" />
            <mxPoint x="1160" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="strat4-step3" value="DELETE" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="1130" y="470" width="45" height="20" as="geometry" />
        </mxCell>
        <mxCell id="strat4-pros" value="✓ Minimal data&#xa;✓ Flexible" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1055" y="495" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="strat4-cons" value="✗ Cleanup needed&#xa;✗ Ordering" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=8;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1055" y="525" width="90" height="30" as="geometry" />
        </mxCell>

        <!-- Recommendation -->
        <mxCell id="recommend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#9673a6;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="575" width="740" height="80" as="geometry" />
        </mxCell>
        <mxCell id="recommend-title" value="Recommendation by Test Type" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;fontStyle=1;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="470" y="580" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="recommend-unit" value="Unit Tests: Factories + Mocks (no DB)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="480" y="605" width="220" height="15" as="geometry" />
        </mxCell>
        <mxCell id="recommend-int" value="Integration: Transaction Rollback or TestContainers" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="480" y="625" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="recommend-e2e" value="E2E Tests: Snapshot Restore or Seed on Demand" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="780" y="605" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="recommend-perf" value="Performance: Production-like masked data" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="780" y="625" width="280" height="15" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
